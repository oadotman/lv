# =====================================================
# PARTNER PROGRAM ENVIRONMENT VARIABLES
# Add these to your existing .env.local file
# =====================================================

# Partner Program Configuration
# -----------------------------------------------------

# Partner Authentication Secret
# Generate with: openssl rand -base64 32
PARTNER_JWT_SECRET=your-partner-jwt-secret-here

# Partner Session Configuration
PARTNER_SESSION_DURATION=604800 # 7 days in seconds
PARTNER_SESSION_COOKIE_NAME=partner_token

# Commission Configuration
PARTNER_COMMISSION_BASE_RATE=25 # Base commission rate (%)
PARTNER_COMMISSION_SILVER_RATE=26
PARTNER_COMMISSION_GOLD_RATE=28
PARTNER_COMMISSION_PLATINUM_RATE=30
PARTNER_COMMISSION_MIN_PAYOUT=100 # Minimum payout threshold ($)
PARTNER_COMMISSION_HOLDING_DAYS=30 # Days before commission is payable

# Referral Tracking Configuration
PARTNER_COOKIE_NAME=partner_ref
PARTNER_COOKIE_DURATION=7776000 # 90 days in seconds
PARTNER_ATTRIBUTION_WINDOW=90 # Days to attribute conversion

# Tier Upgrade Thresholds
PARTNER_TIER_BRONZE_MIN=0
PARTNER_TIER_SILVER_MIN=10
PARTNER_TIER_GOLD_MIN=20
PARTNER_TIER_PLATINUM_MIN=50

# Email Configuration (if not already configured)
# -----------------------------------------------------
RESEND_API_KEY=your-resend-api-key-here
RESEND_FROM_EMAIL=partners@synqall.com
RESEND_PARTNER_SUPPORT_EMAIL=partner-support@synqall.com

# Webhook Configuration
# -----------------------------------------------------

# Webhook secret for payment provider (Paddle/Stripe)
# This should match the secret configured in your payment provider
WEBHOOK_SECRET=your-webhook-secret-here

# Partner commission webhook endpoint
# Configure this in your payment provider dashboard
# Endpoint: https://yourapp.com/api/webhooks/partner-commission
PARTNER_WEBHOOK_ENDPOINT=/api/webhooks/partner-commission

# Cron Job Configuration
# -----------------------------------------------------

# Cron secret for scheduled jobs
# Generate with: openssl rand -base64 32
CRON_SECRET=your-cron-secret-here

# Cron schedule (if using Vercel Cron or similar)
# Run monthly on the 1st at 2 AM UTC
# cron: 0 2 1 * *

# Analytics Configuration
# -----------------------------------------------------
PARTNER_ANALYTICS_RETENTION_DAYS=365 # How long to keep analytics data

# Security Configuration
# -----------------------------------------------------
PARTNER_MAX_LOGIN_ATTEMPTS=5
PARTNER_LOCKOUT_DURATION=900 # 15 minutes in seconds
PARTNER_PASSWORD_MIN_LENGTH=8
PARTNER_PASSWORD_REQUIRE_UPPERCASE=true
PARTNER_PASSWORD_REQUIRE_NUMBER=true
PARTNER_PASSWORD_REQUIRE_SPECIAL=true

# Rate Limiting
# -----------------------------------------------------
PARTNER_API_RATE_LIMIT=100 # Requests per minute
PARTNER_API_RATE_WINDOW=60 # Window in seconds

# Feature Flags (optional)
# -----------------------------------------------------
ENABLE_PARTNER_PROGRAM=true
ENABLE_PARTNER_ANALYTICS=true
ENABLE_PARTNER_AUTO_APPROVAL=false
ENABLE_PARTNER_SELF_SERVICE_ONBOARDING=true
ENABLE_PARTNER_COMMISSION_AUTO_PROCESSING=true

# Payment Processing
# -----------------------------------------------------
# For manual payouts or integration with payment systems
PAYMENT_PROCESSOR=manual # Options: manual, stripe, paypal, wise
PAYMENT_PROCESSOR_API_KEY=your-payment-api-key-here
PAYMENT_PROCESSOR_WEBHOOK_SECRET=your-payment-webhook-secret-here

# Notification Preferences
# -----------------------------------------------------
SEND_PARTNER_WELCOME_EMAIL=true
SEND_PARTNER_COMMISSION_EMAIL=true
SEND_PARTNER_TIER_UPGRADE_EMAIL=true
SEND_PARTNER_MONTHLY_REPORT=true
SEND_ADMIN_APPLICATION_NOTIFICATION=true
SEND_ADMIN_PAYOUT_REMINDER=true

# Admin Notifications
# -----------------------------------------------------
ADMIN_EMAIL=admin@synqall.com
ADMIN_NOTIFICATION_EMAILS=admin@synqall.com,finance@synqall.com

# External Integrations (optional)
# -----------------------------------------------------
# Slack notifications for partner events
SLACK_WEBHOOK_URL=your-slack-webhook-url-here
SLACK_CHANNEL_PARTNERS=#partners

# Google Analytics for partner tracking
GA_MEASUREMENT_ID=your-ga-measurement-id
GA_API_SECRET=your-ga-api-secret

# Development/Testing
# -----------------------------------------------------
# Set these in development only
BYPASS_PARTNER_AUTH=false
MOCK_PAYMENT_PROCESSING=true
TEST_PARTNER_EMAIL=test-partner@example.com

# =====================================================
# IMPORTANT NOTES:
#
# 1. Generate secure secrets using:
#    openssl rand -base64 32
#
# 2. Never commit actual values to version control
#
# 3. Set up scheduled cron jobs in your platform:
#    - Vercel: vercel.json with cron configuration
#    - Other: Use platform-specific cron setup
#
# 4. Configure webhooks in your payment provider:
#    - Endpoint: /api/webhooks/partner-commission
#    - Events: subscription.created, subscription.updated,
#             subscription.cancelled, payment.succeeded
#
# 5. Database migrations must be run before deployment:
#    npx supabase db push
#
# 6. Ensure Supabase RLS policies are enabled for security
# =====================================================